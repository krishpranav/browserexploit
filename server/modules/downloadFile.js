fs = require('fs');

downloadFile = function (fullPath, encoding) {
     fs.readFile(fullPath, encoding, function (err, data) {
         if (err) {
             ws.send("Error downloading file: " + err.toString());
         } else {
             ws.send(data);
         }
     });
}
 
ws.send("\nUsage: downloadFile(fullPath, encoding)\n- fullPath is the properly escaped full path of the file.\n- encoding is a string of the encoding type of the data. E.g. \"utf8\".");